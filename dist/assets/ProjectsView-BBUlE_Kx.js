import{_ as $,o as l,c as n,a as e,t as o,b as _,u as N,d as I,w as y,v as L,e as S,f as F,F as D,r as T,g as r,h as M,i as U,j as C,n as z,k as q}from"./index-EUuC8mmV.js";const A={key:0,class:"confirm-dialog-overlay"},E={class:"confirm-dialog"},Q={class:"dialog-header"},R={class:"dialog-body"},G={class:"dialog-actions"},H={__name:"ConfirmDialog",props:{title:{type:String,default:"确认操作"},message:{type:String,default:"确定要执行此操作吗？"},confirmText:{type:String,default:"确定"},cancelText:{type:String,default:"取消"},visible:{type:Boolean,required:!0}},emits:["confirm","cancel"],setup(i,{emit:h}){const c=h,p=()=>{c("confirm")},u=()=>{c("cancel")};return(v,m)=>i.visible?(l(),n("div",A,[e("div",E,[e("div",Q,[e("h3",null,o(i.title),1)]),e("div",R,[e("p",null,o(i.message),1)]),e("div",G,[e("button",{onClick:u,class:"btn-cancel"},o(i.cancelText),1),e("button",{onClick:p,class:"btn-confirm"},o(i.confirmText),1)])])])):_("",!0)}},J=$(H,[["__scopeId","data-v-fb163054"]]),K={class:"projects-view"},O={class:"page-header"},W={class:"controls"},X={class:"projects-grid"},Y={class:"card-header"},Z={class:"city-badge"},j={class:"card-body"},ee={key:0,class:"tags"},te={class:"card-footer"},se={class:"card-actions"},oe=["onClick"],le=["onClick"],ae={class:"card-meta"},ne={key:0,class:"empty-state"},ie={__name:"ProjectsView",emits:["delete"],setup(i,{emit:h}){const c=N(),p=U(),u=r(""),v=r(""),m=r(""),k=M(()=>c.projects.filter(a=>{const t=u.value===""||a.name.toLowerCase().includes(u.value.toLowerCase()),s=v.value===""||a.city===v.value,d=m.value===""||a.status===m.value;return t&&s&&d}));function V(a){p.push(`/edit/${a.id}`)}const g=r(!1),f=r(null),b=r(""),w=(a,t)=>{f.value=a,b.value=t||"此项目",g.value=!0},x=()=>{g.value=!1,f.value=null,b.value=""},P=()=>{console.log("id:"+f.value),f.value&&c.deleteProject(f.value),x()};function B(){p.push("/add")}return I(()=>{c.loadFromLocalStorage()}),(a,t)=>(l(),n("div",K,[e("div",O,[t[5]||(t[5]=e("h2",null,"项目管理",-1)),e("div",W,[y(e("input",{"onUpdate:modelValue":t[0]||(t[0]=s=>u.value=s),placeholder:"搜索项目名称...",class:"search-input"},null,512),[[L,u.value]]),y(e("select",{"onUpdate:modelValue":t[1]||(t[1]=s=>v.value=s),class:"filter-select"},[...t[3]||(t[3]=[e("option",{value:""},"所有城市",-1),e("option",{value:"珠海"},"珠海",-1),e("option",{value:"中山"},"中山",-1)])],512),[[S,v.value]]),y(e("select",{"onUpdate:modelValue":t[2]||(t[2]=s=>m.value=s),class:"filter-select"},[...t[4]||(t[4]=[F('<option value="" data-v-49a2ebe7>所有状态</option><option value="待跟进" data-v-49a2ebe7>待跟进</option><option value="跟进中" data-v-49a2ebe7>跟进中</option><option value="已推荐" data-v-49a2ebe7>已推荐</option><option value="已成交" data-v-49a2ebe7>已成交</option>',5)])],512),[[S,m.value]])])]),e("div",X,[(l(!0),n(D,null,T(k.value,s=>(l(),n("div",{key:s.id,class:"project-card"},[e("div",Y,[e("h3",null,o(s.name),1),e("span",Z,o(s.city),1)]),e("div",j,[e("p",null,[t[6]||(t[6]=e("strong",null,"规模:",-1)),C(" "+o(s.size),1)]),e("p",null,[t[7]||(t[7]=e("strong",null,"价格:",-1)),C(" "+o(s.price),1)]),e("p",null,[t[8]||(t[8]=e("strong",null,"联系人:",-1)),C(" "+o(s.contact),1)]),e("p",null,[t[9]||(t[9]=e("strong",null,"状态:",-1)),e("span",{class:z(`status-badge status-${s.status}`)},o(s.status),3)]),s.tags.length>0?(l(),n("div",ee,[(l(!0),n(D,null,T(s.tags,d=>(l(),n("span",{key:d,class:"tag"},o(d),1))),128))])):_("",!0)]),e("div",te,[e("div",se,[e("button",{onClick:d=>V(s),class:"btn-edit"},"编辑",8,oe),e("button",{onClick:d=>w(s.id,s.name),class:"btn-delete"}," 删除 ",8,le),g.value?(l(),q(J,{key:0,title:"删除确认",message:`确定要删除 '${b.value}' 吗？此操作不可撤销。`,confirmText:"删除",cancelText:"取消",visible:g.value,onConfirm:P,onCancel:x},null,8,["message","visible"])):_("",!0)]),e("div",ae,[e("small",null,"ID: "+o(s.id),1)])])]))),128))]),k.value.length===0?(l(),n("div",ne,[t[10]||(t[10]=e("p",null,"暂无项目数据，请添加新项目。",-1)),e("button",{onClick:B,class:"btn-primary"},"添加第一个项目")])):_("",!0)]))}},ue=$(ie,[["__scopeId","data-v-49a2ebe7"]]);export{ue as default};
